(*@PROPERTIES_EX@
TYPE: POU
LOCALE: 0
IEC_LANGUAGE: FBD
PLC_TYPE: independent
PROC_TYPE: independent
*)
(*@KEY@:DESCRIPTION*)

(*@KEY@:END_DESCRIPTION*)
FUNCTION_BLOCK Mixing_Dosing

(*Group:Default*)


VAR_EXTERNAL
	DoseFor :	TIME;
	DoseFinished :	BOOL;
	DoseSpeed :	WORD;
	DoseStart :	BOOL;
END_VAR


VAR
	RS_1 :	RS;
	TP_2 :	TP;
	NoDose :	WORD := 0;
	F_TRIG_1 :	F_TRIG;
END_VAR


VAR_EXTERNAL
	MixFinished :	BOOL;
	MixFor :	TIME;
END_VAR


VAR
	RS_2 :	RS;
	TP_3 :	TP;
	F_TRIG_2 :	F_TRIG;
END_VAR


VAR_EXTERNAL
	Q_0_1_0_2 :	BOOL;(*Mixer*)
END_VAR


VAR
	RS_3 :	RS;
END_VAR


VAR_EXTERNAL
	SendDone :	BOOL;
END_VAR


VAR
	RS_4 :	RS;
END_VAR


VAR_EXTERNAL
	ONBOARD_OUTPUT_BIT0 :	BOOL;(*Magneten 1 und 2*)
	Magnets12 :	BOOL;
	Magnets34 :	BOOL;
	ONBOARD_OUTPUT_BIT1 :	BOOL;(*Magneten 3 und 4*)
	Q_0_3_1_1_1_SPANNUNGSAUSGANG :	WORD;(*Doser (0->0V, 65300->10V)*)
	MixStart :	BOOL;
	ONBOARD_INPUT_BIT0 :	BOOL;(*Sensor 1*)
	Sensor1 :	BOOL;
	Sensor2 :	BOOL;
	ONBOARD_INPUT_BIT1 :	BOOL;(*Sensor 2*)
END_VAR


VAR
	Move_Mix_Vert_1 :	Move_Mix_Vert;
	MixVesselIN_1 :	MixVesselIN;
END_VAR


VAR_EXTERNAL
	MixPos1Aut :	BOOL;
	MixVertStartAut :	BOOL;
END_VAR


VAR
	RS_5 :	RS;
	MVO1 :	MixVesselOut;
END_VAR


VAR_EXTERNAL
	MixVertRelRobotAut :	BOOL;
	MixPos2Aut :	BOOL;
	MixIdle :	BOOL;
	MixPosUpAut :	BOOL;
	MixPosDownAut :	BOOL;
END_VAR


(*@KEY@: WORKSHEET
NAME: Mixing_Dosing
IEC_LANGUAGE: FBD
*)
[GRA]
400 400 0 0 0 0 0 

[LIT]
81
99 65 109 65 0 ""
97 61 109 61 0 ""
46 24 57 24 0 ""
56 28 57 28 0 ""
79 57 85 57 0 ""
85 57 85 74 0 ""
85 74 91 74 0 ""
85 57 109 57 0 ""
52 57 66 57 0 ""
65 61 66 61 0 ""
148 40 150 40 0 ""
70 24 80 24 0 ""
80 24 80 35 0 ""
80 35 90 35 0 ""
80 24 150 24 0 ""
147 79 149 79 0 ""
29 122 64 122 0 ""
29 128 64 128 0 ""
102 35 104 35 0 ""
104 35 104 40 0 ""
104 40 27 40 1 ""
27 40 27 28 13 ""
27 28 29 28 0 ""
104 40 131 40 0 ""
16 24 26 24 0 ""
26 24 26 44 0 ""
26 44 131 44 0 ""
26 24 29 24 0 ""
103 74 105 74 0 ""
105 74 105 79 0 ""
105 79 33 79 1 ""
33 79 33 61 13 ""
33 61 35 61 0 ""
105 79 130 79 0 ""
18 57 32 57 0 ""
32 57 32 83 0 ""
32 83 130 83 0 ""
32 57 35 57 0 ""
156 122 167 122 0 ""
156 141 168 141 0 ""
152 160 167 160 0 ""
184 160 193 160 0 ""
163 214 170 214 0 ""
179 122 233 122 0 ""
180 141 233 141 0 ""
108 134 133 134 0 ""
133 134 133 193 0 ""
133 193 158 193 0 ""
108 138 137 138 0 ""
137 138 137 126 13 ""
137 126 167 126 0 ""
108 142 138 142 0 ""
138 142 138 145 0 ""
138 145 168 145 0 ""
108 146 124 146 0 ""
124 146 124 160 0 ""
124 160 140 160 0 ""
108 150 132 150 0 ""
132 150 132 178 0 ""
132 178 158 178 0 ""
108 154 129 154 0 ""
129 154 129 218 0 ""
129 218 151 218 0 ""
105 169 122 169 0 ""
122 169 122 164 13 ""
122 164 140 164 0 ""
105 173 131 173 0 ""
131 173 131 197 0 ""
131 197 158 197 0 ""
105 181 136 181 0 ""
136 181 136 130 13 ""
136 130 167 130 0 ""
105 185 135 185 0 ""
135 185 135 149 13 ""
135 149 168 149 0 ""
105 189 130 189 0 ""
130 189 130 182 13 ""
130 182 158 182 0 ""
105 193 128 193 0 ""
128 193 128 214 0 ""
128 214 151 214 0 ""

[TET]
37
55 60 65 62 4 5 DoseFor
149 78 163 80 4 3 DoseFinished
87 64 99 66 4 5 DoseSpeed
7 56 18 58 4 5 DoseStart
37 50 50 53 7 6 RS_1
68 50 77 53 7 6 TP_2
88 60 97 62 4 5 NoDose
92 67 102 70 7 6 F_TRIG_1
6 23 16 25 4 5 MixStart
150 39 162 41 4 3 MixFinished
48 27 56 29 4 5 MixFor
31 17 44 20 7 6 RS_2
59 17 68 20 7 6 TP_3
91 28 101 31 7 6 F_TRIG_2
150 23 162 25 4 3 Q_0_1_0_2
133 33 146 36 7 6 RS_3
132 72 145 75 7 6 RS_4
144 121 156 123 4 5 Magnets12
233 121 258 123 4 3 ONBOARD_OUTPUT_BIT0
144 140 156 142 4 5 Magnets34
233 140 258 142 4 3 ONBOARD_OUTPUT_BIT1
124 56 158 58 4 3 Q_0_3_1_1_1_SPANNUNGSAUSGANG
6 121 29 123 4 5 ONBOARD_INPUT_BIT0
64 121 74 123 4 3 Sensor1
64 127 74 129 4 3 Sensor2
6 127 29 129 4 5 ONBOARD_INPUT_BIT1
169 153 182 156 7 6 RS_5
156 163 167 165 4 5 SendDone
105 176 124 178 4 3 MixVertRelRobotAut
193 159 202 161 4 3 MixIdle
170 177 186 179 4 3 MixPosDownAut
170 192 186 194 4 3 MixVertStartAut
170 213 184 215 4 3 MixPosUpAut
108 125 120 127 4 3 MixPos1Aut
108 129 120 131 4 3 MixPos2Aut
88 119 106 122 7 6 MixVesselIN_1
82 162 103 165 7 6 MVO1

[FBS]
18
524325 262197 50 65 0 0 RS RS_1  
262212 262197 77 65 0 0 TP TP_2  
262255 196661 122 69 1 0 SEL_WORD @  
262237 196678 101 78 0 0 F_TRIG F_TRIG_1  
524319 262164 44 32 0 0 RS RS_2  
262203 262164 68 32 0 0 TP TP_3  
262236 196639 100 39 0 0 F_TRIG F_TRIG_2  
524421 262180 146 48 0 0 RS RS_3  
524420 262219 145 87 0 0 RS RS_4  
196777 196726 177 134 1 0 OR @  
196778 196745 178 153 1 0 OR @  
524457 262300 182 168 0 0 RS RS_5  
196750 196764 150 168 1 0 OR @  
196768 196782 168 186 1 0 OR @  
196768 196797 168 201 1 0 OR @  
196761 196818 161 222 1 0 OR @  
196696 917626 106 158 0 0 MixVesselIN MixVesselIN_1  
196690 1114277 103 197 0 0 MixVesselOut MVO1  

[FPT]
66
37 56 43 58 SET 0 0 0 0 4225 0 @ BOOL 
37 60 46 62 RESET1 0 0 0 0 4225 0 @ BOOL 
46 56 50 58 Q1 0 0 0 1 0 4225 @ BOOL 
68 56 72 58 IN 0 0 0 0 4225 0 @ BOOL 
68 60 73 62 PT 0 0 0 0 4224 0 @ TIME 
74 56 77 58 Q 0 0 0 1 0 4225 @ BOOL 
73 60 77 62 ET 0 0 0 1 0 4224 @ TIME 
111 56 115 58 G 0 0 0 0 4225 0 @ BOOL 
111 60 116 62 IN0 0 0 0 0 4224 0 @ WORD 
111 64 116 66 IN1 0 0 0 0 4224 0 @ WORD 
121 56 122 58 SEL_WORD 0 0 0 1 0 4736 @ WORD 
93 73 98 75 CLK 0 0 0 0 4224 0 @ BOOL 
98 73 101 75 Q 0 0 0 1 0 4224 @ BOOL 
31 23 37 25 SET 0 0 0 0 4225 0 @ BOOL 
31 27 40 29 RESET1 0 0 0 0 4225 0 @ BOOL 
40 23 44 25 Q1 0 0 0 1 0 4225 @ BOOL 
59 23 63 25 IN 0 0 0 0 4225 0 @ BOOL 
59 27 64 29 PT 0 0 0 0 4224 0 @ TIME 
65 23 68 25 Q 0 0 0 1 0 4225 @ BOOL 
64 27 68 29 ET 0 0 0 1 0 4224 @ TIME 
92 34 97 36 CLK 0 0 0 0 4224 0 @ BOOL 
97 34 100 36 Q 0 0 0 1 0 4224 @ BOOL 
133 39 139 41 SET 0 0 0 0 4225 0 @ BOOL 
133 43 142 45 RESET1 0 0 0 0 4225 0 @ BOOL 
142 39 146 41 Q1 0 0 0 1 0 4225 @ BOOL 
132 78 138 80 SET 0 0 0 0 4225 0 @ BOOL 
132 82 141 84 RESET1 0 0 0 0 4225 0 @ BOOL 
141 78 145 80 Q1 0 0 0 1 0 4225 @ BOOL 
169 121 171 123 IN1 2 0 0 0 1667 0 @ ANY_BIT 
169 125 171 127 IN2 2 0 0 0 1667 0 @ ANY_BIT 
176 121 177 123 OR 0 0 0 1 0 641 @ ANY_BIT 
170 140 172 142 IN1 2 0 0 0 1667 0 @ ANY_BIT 
170 144 172 146 IN2 2 0 0 0 1667 0 @ ANY_BIT 
177 140 178 142 OR 0 0 0 1 0 641 @ ANY_BIT 
169 159 175 161 SET 0 0 0 0 4225 0 @ BOOL 
169 163 178 165 RESET1 0 0 0 0 4225 0 @ BOOL 
178 159 182 161 Q1 0 0 0 1 0 4225 @ BOOL 
142 159 144 161 IN1 2 0 0 0 1665 0 @ ANY_BIT 
142 163 144 165 IN2 2 0 0 0 1665 0 @ ANY_BIT 
149 159 150 161 OR 0 0 0 1 0 641 @ ANY_BIT 
160 177 162 179 IN1 2 0 0 0 1665 0 @ ANY_BIT 
160 181 162 183 IN2 2 0 0 0 1665 0 @ ANY_BIT 
167 177 168 179 OR 0 0 0 1 0 641 @ ANY_BIT 
160 192 162 194 IN1 2 0 0 0 1665 0 @ ANY_BIT 
160 196 162 198 IN2 2 0 0 0 1665 0 @ ANY_BIT 
167 192 168 194 OR 0 0 0 1 0 641 @ ANY_BIT 
170 148 172 150 IN3 2 0 0 0 1665 0 @ ANY_BIT 
169 129 171 131 IN3 2 0 0 0 1665 0 @ ANY_BIT 
153 213 155 215 IN1 2 0 0 0 1665 0 @ ANY_BIT 
153 217 155 219 IN2 2 0 0 0 1665 0 @ ANY_BIT 
160 213 161 215 OR 0 0 0 1 0 641 @ ANY_BIT 
95 125 106 127 MixPos1Aut 0 0 0 1 0 4225 @ BOOL 
95 129 106 131 MixPos2Aut 0 0 0 1 0 4225 @ BOOL 
92 133 106 135 MixVertStartAut 0 0 0 1 0 4225 @ BOOL 
93 137 106 139 Magnets12Aut 0 0 0 1 0 4225 @ BOOL 
93 141 106 143 Magnets34Aut 0 0 0 1 0 4225 @ BOOL 
102 145 106 147 Idle 0 0 0 1 0 4225 @ BOOL 
92 149 106 151 MixPosDownAut 0 0 0 1 0 4225 @ BOOL 
94 153 106 155 MixPosUpAut 0 0 0 1 0 4225 @ BOOL 
99 168 103 170 Idle 0 0 0 1 0 4225 @ BOOL 
89 172 103 174 MixVertStartAut 0 0 0 1 0 4225 @ BOOL 
86 176 103 178 MixVertRelRobotAut 0 0 0 1 0 4225 @ BOOL 
90 180 103 182 Magnets12Aut 0 0 0 1 0 4225 @ BOOL 
90 184 103 186 Magnets34Aut 0 0 0 1 0 4225 @ BOOL 
89 188 103 190 MixPosDownAut 0 0 0 1 0 4225 @ BOOL 
91 192 103 194 MixPosUpAut 0 0 0 1 0 4225 @ BOOL 

[AKT]
0

[STT]
0

[TRT]
0

[KOT]
0

[VER]
0

[IBX]
0


(*@KEY@: END_WORKSHEET *)
END_FUNCTION_BLOCK
