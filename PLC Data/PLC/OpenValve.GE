(*@PROPERTIES_EX@
TYPE: POU
LOCALE: 0
IEC_LANGUAGE: FBD
PLC_TYPE: independent
PROC_TYPE: independent
*)
(*@KEY@:DESCRIPTION*)

(*@KEY@:END_DESCRIPTION*)
FUNCTION_BLOCK OpenValve

(*Group:Default*)


VAR_INPUT
	OpenFor :	TIME := T#2s {};(*Timespan (valve opened)*)
END_VAR


VAR
	TP_1 :	TP;
	F_TRIG_1 :	F_TRIG;
END_VAR


VAR_OUTPUT
	ValveClosed :	BOOL;
	ToValve :	BOOL {};
END_VAR


VAR_INPUT
	OpenValve :	BOOL {};
	CloseValve :	BOOL {};
END_VAR


VAR
	RS_2 :	RS;
	TP_2 :	TP;
END_VAR


VAR_OUTPUT
	ToLed :	BOOL {};
END_VAR


VAR
	SR_2 :	SR;
END_VAR


(*@KEY@: WORKSHEET
NAME: OpenValve
IEC_LANGUAGE: FBD
*)
[GRA]
400 400 0 0 0 0 0 

[LIT]
38
149 57 162 57 0 ""
62 42 70 42 0 ""
70 42 70 51 0 ""
70 51 79 51 0 ""
125 42 135 42 0 ""
146 15 151 15 0 ""
163 15 171 15 0 ""
171 15 171 21 0 ""
171 21 180 21 0 ""
146 32 152 32 0 ""
109 23 115 23 0 ""
16 46 49 46 0 ""
196 21 208 21 0 ""
220 21 232 21 0 ""
70 42 125 42 0 ""
125 42 125 38 13 ""
125 38 197 38 0 ""
197 38 197 25 13 ""
197 25 208 25 0 ""
130 19 140 19 0 ""
140 19 140 28 0 ""
140 28 152 28 0 ""
128 19 130 19 0 ""
130 19 130 11 13 ""
130 11 114 11 1 ""
114 11 114 19 0 ""
114 19 115 19 0 ""
140 19 151 19 0 ""
164 28 172 28 0 ""
172 28 172 25 13 ""
172 25 180 25 0 ""
91 51 111 51 0 ""
111 51 111 57 0 ""
111 57 132 57 0 ""
18 42 48 42 0 ""
48 42 48 61 0 ""
48 61 132 61 0 ""
48 42 49 42 0 ""

[TET]
13
51 35 60 38 7 6 TP_1
6 45 16 47 4 5 OpenFor
6 41 18 43 4 5 OpenValve
80 44 90 47 7 6 F_TRIG_1
162 56 175 58 4 3 ValveClosed
135 41 145 43 4 3 ToValve
134 50 147 53 7 6 RS_2
117 12 126 15 7 6 TP_2
138 14 146 16 4 5 ToLed
98 22 109 24 4 5 T#100ms
138 31 146 33 4 5 ToLed
182 14 194 17 7 6 SR_2
232 20 240 22 4 3 ToLed

[FBS]
8
262195 262182 60 50 0 0 TP TP_1  
262225 196655 89 55 0 0 F_TRIG F_TRIG_1  
524422 262197 147 65 0 0 RS RS_2  
262261 262159 126 27 0 0 TP TP_2  
196761 196619 161 23 1 0 AND @  
196762 196632 162 36 1 0 AND @  
458934 262161 194 29 0 0 SR SR_2  
196818 196625 218 29 1 0 AND @  

[FPT]
25
51 41 55 43 IN 0 0 0 0 4225 0 @ BOOL 
51 45 56 47 PT 0 0 0 0 4224 0 @ TIME 
57 41 60 43 Q 0 0 0 1 0 4225 @ BOOL 
56 45 60 47 ET 0 0 0 1 0 4224 @ TIME 
81 50 86 52 CLK 0 0 0 0 4224 0 @ BOOL 
86 50 89 52 Q 0 0 0 1 0 4224 @ BOOL 
134 56 140 58 SET 0 0 0 0 4225 0 @ BOOL 
134 60 143 62 RESET1 0 0 0 0 4225 0 @ BOOL 
143 56 147 58 Q1 0 0 0 1 0 4225 @ BOOL 
117 18 121 20 IN 0 0 0 0 129 0 @ BOOL 
117 22 122 24 PT 0 0 0 0 4226 0 @ TIME 
123 18 126 20 Q 0 0 0 1 0 139 @ BOOL 
122 22 126 24 ET 0 0 0 1 0 4224 @ TIME 
153 14 155 16 IN1 2 0 0 0 1675 0 @ ANY_BIT 
153 18 155 20 IN2 2 0 0 0 1667 0 @ ANY_BIT 
160 14 161 16 OUT 0 0 0 1 0 643 @ ANY_BIT 
154 27 156 29 IN1 2 0 0 0 1667 0 @ ANY_BIT 
154 31 156 33 IN2 2 0 0 0 1667 0 @ ANY_BIT 
161 27 162 29 OUT 0 0 0 1 0 643 @ ANY_BIT 
182 20 189 22 SET1 0 0 0 0 4225 0 @ BOOL 
182 24 190 26 RESET 0 0 0 0 4225 0 @ BOOL 
190 20 194 22 Q1 0 0 0 1 0 4225 @ BOOL 
210 20 212 22 IN1 2 0 0 0 1665 0 @ ANY_BIT 
210 24 212 26 IN2 2 0 0 0 1665 0 @ ANY_BIT 
217 20 218 22 OUT 0 0 0 1 0 641 @ ANY_BIT 

[AKT]
0

[STT]
0

[TRT]
0

[KOT]
0

[VER]
0

[IBX]
0


(*@KEY@: END_WORKSHEET *)
END_FUNCTION_BLOCK
